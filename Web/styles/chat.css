/* Placeholder styles for chat mockup: black & white shapes + text */
:root{
  --bg:#111;
  --panel:#0f0f0f;
  --accent:#fff;
  --muted:#aaa;
}
html,body{height:100%;margin:0;font-family:Segoe UI, Roboto, Helvetica, Arial, sans-serif;background:var(--bg);color:var(--accent)}
#scene{position:relative;height:100vh;overflow:hidden}
#background{position:absolute;inset:0;/* living room background image (falls back to gradient) */
  background: linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)), url("../assets/backgrounds/LivingRoom.jpeg") center/cover no-repeat;
  opacity:1}

/* stage for avatars */
#stage{position:absolute;inset:40px 40px 160px 40px;display:flex;align-items:flex-end;justify-content:center;pointer-events:none}
.avatar{width:220px;height:300px;/* transparent container so character GIFs with alpha show correctly */
  background:none;color:transparent;display:flex;align-items:center;justify-content:center;font-weight:700;border-radius:0;opacity:0;transform:translateY(30px);transition:opacity .45s ease, transform .45s ease;overflow:visible}
.avatar.left{margin-right:120px}
.avatar.right{margin-left:120px}

/* robot on the left, duck on the right â€” use GIFs with preserved alpha */
.avatar.left{ /* robot avatar image */
  background-image: url("../assets/characters/robot.GIF");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center bottom;
  background-color: transparent;
  color: transparent;
}
.avatar.right{ /* duck avatar image placeholder (use flip GIF) */
  background-image: url("../assets/characters/duckFlip.GIF");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center bottom;
  background-color: transparent;
  color: transparent; /* hide text when image present */
}
.avatar.speaking{opacity:1;transform:translateY(0);box-shadow:none}

/* chat box fixed bottom */
#chat-box{position:fixed;left:20px;right:20px;bottom:20px;background:rgba(0,0,0,0.7);border:2px solid #fff;padding:12px;border-radius:10px;display:flex;flex-direction:column;gap:8px}
#chat-controls{display:flex;gap:8px}
.control{background:#fff;color:#000;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}
#line-area{background:#000;color:#fff;padding:12px;border-radius:6px;min-height:48px;display:flex;flex-direction:column;gap:6px}
#speaker-label{font-size:12px;color:var(--muted)}
#line-text{font-size:18px;line-height:1.3;min-height:32px}

#choices{display:flex;gap:8px}
.choice-btn{background:#fff;color:#000;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
.hidden{display:none}

#history-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.75);/* hidden by default; add .open to show */display:none;align-items:center;justify-content:center}
#history-overlay.open{display:flex}
#history-inner{width:90%;max-width:900px;background:rgba(255,255,255,0.06);padding:18px;border-radius:10px;border:1px solid rgba(255,255,255,0.12);color:#fff}
#history-close{float:right;background:transparent;color:#fff;border:none;font-size:20px;cursor:pointer}
#history-list{margin-top:8px;display:flex;flex-direction:column;gap:10px;max-height:60vh;overflow:auto;padding-right:8px}
.history-item{display:flex;gap:12px;align-items:flex-start}
.history-item.robot{flex-direction:row}
.history-item.duck{flex-direction:row-reverse}
.history-avatar{width:48px;height:48px;background:#fff;color:#000;border-radius:6px;display:flex;align-items:center;justify-content:center;font-weight:700}
.history-bubble{max-width:70%;background:rgba(255,255,255,0.06);padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06)}

/* small responsive adjustments */
@media(max-width:600px){.avatar{width:140px;height:200px}.avatar.left{margin-right:40px}.avatar.right{margin-left:40px}#chat-box{left:10px;right:10px}}
